<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome to OCB Stays</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="toastContainer" class="toast-container position-fixed bottom-0 end-0 p-3"></div>

  <h1 id="welcomeMessage"><img src="../img/welcome_icon.png" alt="Welcome" width="30" height="30"> Welcome to OCB Stays ðŸŒ²</h1>

  <!-- Guest Details Section -->
  <div class="section" id="stayDetails">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <div class="collapsible-header" onclick="toggleCollapse('guestDetailsCollapse')">
        <h2><img src="../img/stay_details_icon.png" alt="Stay Details" width="35" height="35"> Your Stay Details</h2>
      </div>
      <button class="btn btn-outline-primary rules-btn" data-bs-toggle="modal" data-bs-target="#rulesModal">
        View Rules
      </button>
    </div>
    <div class="basic-info">
      <p><strong>Name:</strong> <span id="guestName">Loading...</span></p>
      <p><strong>Room:</strong> <span id="room">Loading...</span></p>
    </div>
    <div class="collapsible-content" id="guestDetailsCollapse">
      <div class="guest-details">
        <p><strong>Guest ID:</strong> <span id="guestID">Loading...</span></p>
        <p><strong>Check-In:</strong> <span id="checkin">Loading...</span> (Check-out: 11:00 AM)</p>
      </div>
    </div>
  </div>

  <!-- Property Location Section -->
  <div class="section" id="propertyLocation">
    <h2><img src="../img/location_icon.png" alt="Location" width="35" height="35"> Property Location</h2>
    <div class="location-timeline">
      <div class="timeline-line"></div>
      <div class="location-container">
        <div class="location-dot" onclick="openLocation('fagu')"></div>
        <div class="location-label">
          Fagu
          <div style="font-size: 0.7rem;">(Market & ATM)</div>
        </div>
      </div>
      <div class="location-container">
        <div class="location-dot" onclick="openLocation('cheog')"></div>
        <div class="location-label">
          Cheog Market
          <div style="font-size: 0.7rem;">(Last market for cosmetibles)</div>
        </div>
      </div>
      <div class="location-container">
        <div class="location-dot" onclick="openLocation('temple')"></div>
        <div class="location-label">
          Banga Pani Temple
          <div style="font-size: 0.7rem;">(Meet Gaurav here)</div>
          <div class="contact-icons">
            <button class="contact-btn call-btn" onclick="makeCall('+917018148652')"><i class="fas fa-phone"></i></button>
            <button class="contact-btn whatsapp-btn" onclick="openWhatsApp('+917018148652')"><i class="fab fa-whatsapp"></i></button>
          </div>
        </div>
      </div>
      <div class="location-container">
        <div class="location-dot" onclick="openLocation('property')"></div>
        <div class="location-label">
          Cottage
          <div style="font-size: 0.7rem;">(OCB Stays)</div>
        </div>
      </div>
    </div>
    <div class="location-actions">
      <button class="btn btn-outline-primary" onclick="openAllLocations()">
        <i class="fas fa-map-marked-alt"></i> View All Locations
      </button>
    </div>
  </div>

  <!-- Team OCB Card -->
  <div class="section" id="teamSection">
    <h2><img src="../img/team_icon.png" alt="Team" width="35" height="35"> Team OCB</h2>
    <div class="contact-person">
      <div class="contact-person-name"><strong>Host:</strong> Prateek</div>
      <div class="contact-person-buttons">
        <button class="contact-btn call-btn" onclick="makeCall('+918708480965')"><i class="fas fa-phone"></i></button>
        <button class="contact-btn whatsapp-btn" onclick="openWhatsApp('+918708480965')"><i class="fab fa-whatsapp"></i></button>
      </div>
    </div>
    <div class="contact-person">
      <div class="contact-person-name"><strong>Co-Host:</strong> Neev</div>
      <div class="contact-person-buttons">
        <button class="contact-btn call-btn" onclick="makeCall('+918553200001')"><i class="fas fa-phone"></i></button>
        <button class="contact-btn whatsapp-btn" onclick="openWhatsApp('+918553200001')"><i class="fab fa-whatsapp"></i></button>
      </div>
    </div>
    <div class="contact-person">
      <div class="contact-person-name"><strong>Co-Host:</strong> Gaurav</div>
      <div class="contact-person-buttons">
        <button class="contact-btn call-btn" onclick="makeCall('+917018148652')"><i class="fas fa-phone"></i></button>
        <button class="contact-btn whatsapp-btn" onclick="openWhatsApp('+917018148652')"><i class="fab fa-whatsapp"></i></button>
      </div>
    </div>
    <div class="contact-person">
      <div class="contact-person-name"><strong>Chef:</strong> Deepak</div>
      <div class="contact-person-buttons">
        <button class="contact-btn call-btn" onclick="makeCall('+919519437416')"><i class="fas fa-phone"></i></button>
        <button class="contact-btn whatsapp-btn" onclick="openWhatsApp('+9179519437416')"><i class="fab fa-whatsapp"></i></button>
      </div>
    </div>
    <div class="contact-person">
      <div class="contact-person-name"><strong>Caretaker:</strong> Prakash</div>
      <div class="contact-person-buttons">
        <button class="contact-btn call-btn" onclick="makeCall('+918091296204')"><i class="fas fa-phone"></i></button>
        <button class="contact-btn whatsapp-btn" onclick="openWhatsApp('+918091296204')"><i class="fab fa-whatsapp"></i></button>
      </div>
    </div>
  </div>

  <!-- WiFi Details Card -->
  <div class="section" id="wifiSection">
    <div style="display: flex; justify-content: space-between; align-items: center;">
      <h2><img src="../img/wifi_icon.png" alt="WiFi" width="35" height="35"> Wi-Fi Details</h2>
      <button class="btn btn-sm btn-outline-primary" onclick="connectToWifi()">
        <i class="fas fa-wifi"></i> Connect
      </button>
    </div>
    <p><strong>Network:</strong> OCB Stays</p>
    <p>
      <strong>Password:</strong> CozyBalcony!
      <button class="btn btn-sm btn-outline-secondary copy-btn" onclick="copyToClipboard('CozyBalcony!', 'WiFi password copied!')">
        <i class="far fa-copy"></i>
      </button>
    </p>
  </div>

  <!-- Food Menu and Orders Section -->
  <div class="section" id="foodOrders">
    <div class="collapsible-header" onclick="toggleCollapse('ordersCollapse')">
      <h2><img src="../img/food_icon.png" alt="Food" width="35" height="35"> Food & CafÃ©</h2>
      <i class="fas fa-chevron-down toggle-icon" id="ordersToggle"></i>
    </div>
    <div class="collapsible-content" id="ordersCollapse">
      <button id="menuButton" class="btn btn-primary mb-3">View Menu & Place Order</button>
      
      <div id="ordersContainer">
        <div class="collapsible-header" onclick="toggleCollapse('ordersListCollapse')">
          <h3>Your Orders</h3>
          <i class="fas fa-chevron-down toggle-icon" id="ordersListToggle"></i>
        </div>
        <div class="collapsible-content" id="ordersListCollapse">
          <div id="ordersList">
            <p>Loading your orders...</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Checkout Info Section -->
  <div class="section" id="checkoutInfo">
    <h2><img src="../img/checkout_icon.png" alt="Checkout" width="35" height="35"> Check-Out Information</h2>
    <p><strong>Check-Out Time:</strong> 11:00 AM</p>
    <div id="billDetails">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h3>Your Bill</h3>
        <div>
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#billModal">
            View Bill
          </button>
          <button class="btn btn-sm btn-outline-secondary" onclick="downloadBill()">
            <i class="fas fa-download"></i>
          </button>
        </div>
      </div>
      <p>Loading bill information...</p>
    </div>
  </div>

  <!-- Rules Modal -->
  <div class="modal fade" id="rulesModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"><i class="fas fa-info-circle me-2"></i> House Rules</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul class="rules-list">
            <li><strong>Puff with the Peaks, Not the Sheets</strong> - Take your smoke breaks outsideâ€”let the room breathe as easy as the mountains do!</li>
            <li><strong>Lower the Volume, Raise the Peace</strong> â€“ After 10 PM, let quiet charm take over.</li>
            <li><strong>Soft Feet, Sweet Dreams</strong> â€“ Wooden floors love gentle steps and calm voices.</li>
            <li><strong>Good Food Takes Time</strong> â€“ Our kitchen hums from 8 AM to 2 PM and 4:30 PM to 10 PM (last order). Order early, savor later.</li>
          </ul>
          <p class="mt-3">Relax, unwind, and enjoy the magic of the mountains! ðŸ˜Š</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Got it!</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bill Modal -->
  <div class="modal fade" id="billModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="billModalTitle">Your Bill</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="billModalBody">
          <div class="text-center">
            <div class="spinner"></div>
            <p>Loading bill details...</p>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" onclick="downloadBill()">
            <i class="fas fa-download"></i> Download
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer Navigation -->
  <div class="footer-nav">
    <a href="#stayDetails" class="nav-tab active">
      <img src="../img/stay_details_icon.png" alt="Stay Details">
      <span>Stay</span>
    </a>
    <a href="#propertyLocation" class="nav-tab">
      <img src="../img/location_icon.png" alt="Location">
      <span>Location</span>
    </a>
    <a href="#teamSection" class="nav-tab">
      <img src="../img/team_icon.png" alt="Team">
      <span>Team</span>
    </a>
    <a href="#wifiSection" class="nav-tab">
      <img src="../img/wifi_icon.png" alt="WiFi">
      <span>WiFi</span>
    </a>
    <a href="#foodOrders" class="nav-tab">
      <img src="../img/food_icon.png" alt="Food">
      <span>Food</span>
    </a>
    <a href="#checkoutInfo" class="nav-tab">
      <img src="../img/checkout_icon.png" alt="Checkout">
      <span>Checkout</span>
    </a>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
